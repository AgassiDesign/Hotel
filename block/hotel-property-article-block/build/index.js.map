{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./src/index.js","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"i18n\"]"],"names":["registerBlockType","title","__","icon","category","supports","html","reusable","align","attributes","type","selector","description","articleCount","default","edit","props","taxonomies","selectTaxonomy","term","term_id","setAttributes","wp","apiFetch","url","then","undefined","id","data","length","onChangeTaxonomy","e","target","value","onChangeTerm","filter","taxonomy","map","Term","name","val","save"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import { __ } from '@wordpress/i18n';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\nimport { RichText } from '@wordpress/block-editor';\r\nimport { RangeControl, TextareaControl } from '@wordpress/components';\r\n\r\nregisterBlockType('hotel/property-article', {\r\n    title: __('Property Articles', 'hotel'),\r\n    icon: 'images-alt2',\r\n    category: 'hotel',\r\n    supports: {\r\n        // Turn off ability to edit HTML of block content\r\n        html: false,\r\n        // Turn off reusable block feature\r\n        reusable: false,\r\n        // Add alignwide and alignfull options\r\n        align: false,\r\n    },\r\n    //custom attr.\r\n    attributes: {\r\n        title: {\r\n            type: 'string',\r\n            selector: 'h3',\r\n        },\r\n        description: {\r\n            type: 'string',\r\n            selector: 'h5',\r\n        },\r\n        articleCount: {\r\n            type: 'number',\r\n            default: 3,\r\n        },\r\n        title: {\r\n            type: 'string',\r\n            selector: '.title_description',\r\n        },\r\n        taxonomies: {\r\n            type: 'object',\r\n        },\r\n        selectTaxonomy: {\r\n            type: 'string',\r\n        },\r\n        term: {\r\n            type: 'object',\r\n        },\r\n        term_id: {\r\n            type: 'string',\r\n        },\r\n    },\r\n    edit: (props) => {\r\n        const {\r\n            attributes: {\r\n                title,\r\n                description,\r\n                taxonomies,\r\n                selectTaxonomy,\r\n                articleCount,\r\n                term,\r\n                term_id,\r\n            },\r\n            setAttributes,\r\n        } = props;\r\n        if (!taxonomies) {\r\n            wp.apiFetch({\r\n                url: '/wp-json/hotel/v1/properties/all-terms',\r\n            }).then((taxonomies) => {\r\n                props.setAttributes({\r\n                    taxonomies: taxonomies,\r\n                });\r\n\r\n                if (taxonomies && term_id === undefined) {\r\n                    props.setAttributes({\r\n                        selectTaxonomy: taxonomies[0].id,\r\n                    });\r\n                    props.setAttributes({\r\n                        term: taxonomies[0].data[0],\r\n                    });\r\n                    props.setAttributes({\r\n                        term_id: taxonomies[0].data[0].term_id,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!taxonomies) {\r\n            return __('Loading ...', 'hotel');\r\n        }\r\n\r\n        if (\r\n            !props.attributes.taxonomies &&\r\n            props.attributes.taxonomies.length === 0\r\n        ) {\r\n            return __('No taxonomies found. Please add some!!', 'hotel');\r\n        }\r\n\r\n        function onChangeTaxonomy(e) {\r\n            setAttributes({ selectTaxonomy: e.target.value });\r\n        }\r\n        function onChangeTerm(e) {\r\n            const value = e.target.value;\r\n            setAttributes({ term_id: value });\r\n            taxonomies\r\n                .filter((taxonomy) => {\r\n                    return taxonomy.id === selectTaxonomy;\r\n                })\r\n                .map((taxonomy) => {\r\n                    taxonomy.data.map((term) => {\r\n                        if (term.term_id === +value) {\r\n                            setAttributes({ term: term });\r\n                        }\r\n                    });\r\n                });\r\n        }\r\n        function Term(props) {\r\n            const selectTaxonomy = props.selectTaxonomy;\r\n\r\n            if (!selectTaxonomy) {\r\n                return true;\r\n            }\r\n            return (\r\n                <>\r\n                    <div class='term-list'>\r\n                        <label>Select Term: </label>\r\n                        <select\r\n                            onChange={onChangeTerm}\r\n                            value={term_id}\r\n                            class='components-text-control__input'\r\n                        >\r\n                            {taxonomies\r\n                                .filter((taxonomy) => {\r\n                                    return taxonomy.id === selectTaxonomy;\r\n                                })\r\n                                .map((taxonomy) => {\r\n                                    return taxonomy.data.map((term) => {\r\n                                        return (\r\n                                            <option\r\n                                                value={term.term_id}\r\n                                                key={term.term_id}\r\n                                            >\r\n                                                {term.name}\r\n                                            </option>\r\n                                        );\r\n                                    });\r\n                                })}\r\n                        </select>\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n        return (\r\n            <div class='wp-block-hotel-property-articles'>\r\n                <div class='taxonomies-list'>\r\n                    <label>Select Taxonomy: </label>\r\n                    <select\r\n                        onChange={onChangeTaxonomy}\r\n                        value={selectTaxonomy}\r\n                        class='components-text-control__input'\r\n                    >\r\n                        {taxonomies.map((taxonomy) => {\r\n                            return (\r\n                                <option value={taxonomy.id} key={taxonomy.id}>\r\n                                    {taxonomy.name}\r\n                                </option>\r\n                            );\r\n                        })}\r\n                    </select>\r\n                </div>\r\n                <Term selectTaxonomy={selectTaxonomy} />\r\n                <RichText\r\n                    className='property-articles__title'\r\n                    tagName='h3'\r\n                    placeholder={__('Write title', 'hotel')}\r\n                    value={title}\r\n                    onChange={(val) =>\r\n                        setAttributes({\r\n                            title: val,\r\n                        })\r\n                    }\r\n                />\r\n                <TextareaControl\r\n                    className='property-articles__description'\r\n                    placeholder={__('Write Description', 'hotel')}\r\n                    value={description}\r\n                    onChange={(val) =>\r\n                        setAttributes({\r\n                            description: val,\r\n                        })\r\n                    }\r\n                />\r\n                <label>Select Article Count: </label>\r\n                <RangeControl\r\n                    value={articleCount}\r\n                    onChange={(val) =>\r\n                        setAttributes({\r\n                            articleCount: val,\r\n                        })\r\n                    }\r\n                    trackColor={'red'}\r\n                    min={0}\r\n                    max={6}\r\n                />\r\n            </div>\r\n        );\r\n    },\r\n    save: () => {\r\n        return null;\r\n    },\r\n});\r\n","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());"],"sourceRoot":""}